# Notification Service Production Configuration
# Override properties for production environment

# Server Configuration
server.port=8084

# Logging Configuration for Production
logging.level.com.blogspot.notification=INFO
logging.level.org.springframework.kafka=WARN
logging.level.org.springframework.mail=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.cloud=INFO
logging.level.org.springframework.boot.autoconfigure=WARN
logging.level.org.springframework.boot=WARN
logging.level.org.springframework=WARN
logging.level.org.apache.kafka=WARN

# Production specific properties
notification.service.enabled=true
notification.service.retry-attempts=5
notification.service.retry-delay=10000
notification.service.batch-size=500
notification.service.processing-threads=10

# Rate Limiting Configuration for Production
notification.rate-limit.enabled=true
notification.rate-limit.max-emails-per-minute=60
notification.rate-limit.max-emails-per-hour=1000

# Mail Configuration for Production (use environment variables)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=${MAIL_HOST:smtp.gmail.com}

# Kafka Configuration for Production
spring.kafka.consumer.auto-offset-reset=latest
spring.kafka.consumer.enable-auto-commit=false
spring.kafka.consumer.auto-commit-interval-ms=5000
spring.kafka.consumer.session-timeout-ms=60000
spring.kafka.consumer.heartbeat-interval-ms=20000
spring.kafka.consumer.max-poll-records=1000
spring.kafka.consumer.max-poll-interval-ms=600000

# Eureka Configuration for Production
eureka.client.registry-fetch-interval-seconds=60
eureka.client.instance-info-replication-interval-seconds=60
eureka.client.initial-instance-info-replication-interval-seconds=10
eureka.instance.lease-renewal-interval-in-seconds=60
eureka.instance.lease-expiration-duration-in-seconds=180

# Management endpoints for production (limited)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=when-authorized

# Thread Pool Configuration for Production
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=500
spring.task.execution.pool.keep-alive=120s

# Async Configuration for Production
spring.task.scheduling.pool.size=10

# Profile Configuration
spring.profiles.active=prod
